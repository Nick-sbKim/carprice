<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>ë‚´ ì°¨ëŸ‰ì‹œì„¸ ì‹ ì²­</title>
    
    <style>
        /* í°íŠ¸ ì„í¬íŠ¸: ë‚˜ëˆ”ìŠ¤í€˜ì–´ Bold í°íŠ¸ ì ìš© */
        @import url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_two@1.0/NanumSquare.woff'); 

        /* ********************************************** */
        /* âœ… ìƒìˆ˜ ì •ì˜ (Red Color Palette) */
        :root {
            --input-gap: 10px;
            --input-padding-vertical: 12px; 
            --mobile-breakpoint: 600px; 
            --align-offset: 120px; 
            --input-margin-bottom: 25px; /* ëª¨ë“  í•­ëª©ì˜ ê¸°ë³¸ í•˜ë‹¨ ê°„ê²© (25px) */
            
            /* --- ğŸ¨ Main Theme Colors (Red) --- */
            --main-color: #D32F2F;        
            --light-border-color: #FFCDD2; 
            --text-color: #333; 
            --secondary-text-color: #8D6E63; 
            --label-color: #BF360C;         
            
            /* âœ… ê°€ì´ë“œ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            --guide-text-color: #333;      /* ë“œë¡­ë‹¤ìš´ì˜ ê¸°ë³¸ ì„ íƒ í…ìŠ¤íŠ¸ (ê²€ì • ìœ ì§€) */
            --placeholder-color: #9E9E9E;  /* ì¼ë°˜ ì…ë ¥ í•„ë“œì˜ ê°€ì´ë“œ í…ìŠ¤íŠ¸ (íšŒìƒ‰ ê³„ì—´) */
            
            /* --- ğŸ¨ Section Colors (Background Only) --- */
            --personal-info-bg: #E1F5FE;  
            --personal-info-border: #81D4FA;
            
            --car-info-bg: #FFFDE7;     
            --car-info-border: #FFECB3;
            
            /* ë“œë¡­ë‹¤ìš´ ì•„ì´ì½˜ (ì—­ì‚¼ê°í˜•) SVG */
            --dropdown-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23D32F2F'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
        }
        /* ********************************************** */

        /* ê¸°ë³¸ ì„¤ì • */
        body {
            font-family: 'NanumSquare', sans-serif;
            color: var(--text-color); 
            display: flex;
            justify-content: center;
            align-items: flex-start; 
            min-height: 100vh; 
            margin: 0;
            padding: 15px 10px; 
            box-sizing: border-box;
            background-image: url('https://user-images.githubusercontent.com/97545939/291657065-1d4e0e5a-27a3-4a1d-8515-568d4a974b86.png'); 
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-color: #FFF3E0; 
            overflow-y: auto; 
        }

        /* ì»¨í…Œì´ë„ˆ */
        .container {
            background-color: rgba(255, 255, 255, 0.95); 
            padding: 0; 
            border-radius: 15px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1); 
            border: 2px solid var(--light-border-color); 
            overflow: hidden; 
        }

        /* ì œëª© ë° ì„¤ëª… (ê°€ìš´ë° ì •ë ¬) */
        .header-content {
            padding: 25px 20px 10px; 
        }

        h1 {
            text-align: center; 
            margin-bottom: 15px; 
            font-size: 1.7em; 
            font-weight: 800; 
            color: var(--main-color); 
            line-height: 1.2; 
        }
        
        .description {
            text-align: center; 
            font-size: 1.0em; 
            color: var(--secondary-text-color);
            margin-bottom: 25px; 
            padding: 0 5px;
            font-weight: 500;
            line-height: 1.6; 
        }

        /* ********************************************** */
        /* ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .section-wrapper {
            padding: 0 20px; 
        }
        
        .personal-info-bg {
            background-color: var(--personal-info-bg);
            border-top: 1px solid var(--personal-info-border);
            border-bottom: 1px solid var(--personal-info-border);
            padding: 20px 0; 
            margin-bottom: 20px; 
        }

        .personal-info-bg .input-group:last-of-type {
            margin-bottom: 0;
        }

        .car-info-bg {
            background-color: var(--car-info-bg);
            border-top: 1px solid var(--car-info-border);
            border-bottom: 1px solid var(--car-info-border);
            padding: 20px 0; 
            margin-bottom: 20px;
        }
        
        .car-info-bg .input-group:last-of-type {
             margin-bottom: 0;
        }
        
        .section-title {
            font-size: 1.3em;
            font-weight: 800;
            color: var(--label-color);
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 2px dashed var(--light-border-color);
        }
        /* ********************************************** */
        
        /* ëª¨ë“  í•„ë“œ ê·¸ë£¹ */
        .input-group {
            display: flex;
            flex-wrap: wrap; 
            margin-bottom: var(--input-margin-bottom); 
            position: relative; 
            align-items: center; 
        }
        
        /* ëª¨ë“  ë¼ë²¨ ìŠ¤íƒ€ì¼ */
        .input-group label {
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%); 
            
            width: 110px; 
            flex-shrink: 0;
            font-size: 1.25em; 
            font-weight: 800; 
            color: var(--label-color); 
            white-space: nowrap; 
            line-height: 1.2; 
        }
        
        /* ì…ë ¥ í•„ë“œ ì»¨í…Œì´ë„ˆ (ì •ë ¬ ì‹œì‘ì ) */
        .input-field-wrapper {
            margin-left: var(--align-offset); 
            width: calc(100% - var(--align-offset)); 
            
            position: relative; 
            display: flex; 
            gap: var(--input-gap); 
            align-items: center;
            flex-grow: 1; 
        }
        
        /* ì…ë ¥ í•„ë“œ/ë“œë¡­ë‹¤ìš´ ìŠ¤íƒ€ì¼ */
        .input-field-wrapper input[type="text"],
        .input-field-wrapper select {
            flex-grow: 1;
            padding: var(--input-padding-vertical) 15px; 
            height: 48px; 
            border: 1px solid var(--light-border-color); 
            border-radius: 8px; 
            box-sizing: border-box;
            font-size: 1.1em; 
            color: var(--text-color);
            background-color: white; 
            font-weight: normal; 
            text-align: left;
            -webkit-appearance: none; 
            -moz-appearance: none;
            appearance: none;
            cursor: pointer;
        }
        
        /* ì¼ë°˜ ì…ë ¥ í•„ë“œì˜ ê°€ì´ë“œ í…ìŠ¤íŠ¸ (placeholder) ìƒ‰ìƒ (íšŒìƒ‰) */
        .personal-info-bg input::placeholder,
        #carNumber::placeholder {
            color: var(--placeholder-color); 
            font-weight: 500;
        }
        
        /* ë“œë¡­ë‹¤ìš´ì˜ ê¸°ë³¸ ì„ íƒê°’ (Guide) ìŠ¤íƒ€ì¼ (ê²€ì •) */
        .input-field-wrapper select option[disabled] {
            color: var(--guide-text-color);
            font-weight: 500;
        }
        .input-field-wrapper select {
            color: var(--guide-text-color); 
        }
        .input-field-wrapper select:valid {
            color: var(--text-color); 
        }
        
        /* ë“œë¡­ë‹¤ìš´ ì•„ì´ì½˜ */
        .input-field-wrapper select {
            background-image: var(--dropdown-icon);
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 18px;
            padding-right: 40px;
        }

        /* ì¶œê³  ì—°ë„/ì›” í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬ */
        #yearSelect, #monthSelect {
             text-align: center;
             text-align-last: center; 
        }

        /* ì°¨ëŸ‰ë²ˆí˜¸ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
        .car-number-box {
            padding: var(--input-padding-vertical) 15px; 
            height: 48px; 
            border: 1px solid var(--light-border-color); 
            border-radius: 8px; 
            box-sizing: border-box;
            background-color: white; 
            display: flex; 
            align-items: center; 
            width: 100%; 
            flex-grow: 1;
            min-width: 0; 
        }
        
        /* ì°¨ëŸ‰ë²ˆí˜¸ 'ì„œìš¸' í…ìŠ¤íŠ¸ ì•ˆì •í™” */
        .car-number-box .city-unit {
            font-weight: 800; 
            color: var(--main-color); 
            white-space: nowrap; 
            font-size: 1em; 
            line-height: 1; 
            padding-right: 10px; 
            flex-shrink: 0; 
        }
        
        /* ì°¨ëŸ‰ë²ˆí˜¸ ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ */
        #carNumber {
            border: none !important;
            background: transparent !important;
            outline: none !important;
            padding: 0 !important;
            text-align: left;
            flex-grow: 1; 
            font-size: 1.1em; 
            font-weight: normal; 
            min-width: 80px; 
        }

        /* ********************************************** */
        /* í•˜ë‹¨ ë‚´ìš© ë° ë²„íŠ¼ (footer-content) */
        .footer-content {
             padding: 0 20px 25px; 
        }

        .consent-group {
            display: flex;
            align-items: center;
            margin-top: 25px; 
            margin-bottom: 10px; 
            background-color: #FBE9E7; 
            padding: 10px; 
            border-radius: 8px; 
            border: 1px solid var(--light-border-color);
        }
        
        /* ê°œì¸ì •ë³´ ë™ì˜ ì²´í¬ë°•ìŠ¤ ìˆ¨ê¸°ê³  ê°€ìƒìœ¼ë¡œ ë¼ë²¨ì„ ì‚¬ìš© */
        #consent {
            /* ì‹¤ì œ ì²´í¬ë°•ìŠ¤ ìˆ¨ê¹€ */
            position: absolute;
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .consent-group .consent-label {
            position: static; /* position: absolute í•´ì œ */
            transform: none;
            width: auto;
            margin-left: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            color: var(--text-color);
        }
        
        /* ì»¤ìŠ¤í…€ ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
        .consent-group .consent-label::before {
            content: '';
            display: inline-block;
            width: 18px;
            height: 18px;
            border: 2px solid var(--main-color);
            border-radius: 4px;
            margin-right: 10px;
            vertical-align: middle;
            transition: background-color 0.2s, border-color 0.2s;
        }
        
        /* ì²´í¬ë˜ì—ˆì„ ë•Œ ìŠ¤íƒ€ì¼ */
        #consent:checked + .consent-label::before {
            background-color: var(--main-color);
            border-color: var(--main-color);
            content: 'âœ“'; /* ì²´í¬ í‘œì‹œ */
            color: white;
            text-align: center;
            line-height: 18px;
            font-size: 14px;
            font-weight: 900;
        }


        /* ê°œì¸ì •ë³´ ë™ì˜ ìƒì„¸ ë°•ìŠ¤ (ìŠ¤í¬ë¡¤ ê°€ëŠ¥) */
        .consent-details {
            border: 1px solid var(--light-border-color);
            background-color: #fcfcfc;
            padding: 10px;
            border-radius: 8px;
            max-height: 120px; 
            overflow-y: auto; 
            font-size: 0.85em;
            color: #666;
            margin-bottom: 20px;
        }
        
        .consent-details p {
            margin-top: 0;
            margin-bottom: 5px;
            line-height: 1.5;
        }
        
        /* ìµœì¢… ì‹ ì²­ ë²„íŠ¼ */
        #submitBtn {
            width: 100%;
            padding: 18px 20px;
            background-color: var(--main-color);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.3em;
            font-weight: 800;
            cursor: pointer;
            transition: background-color 0.2s;
            box-shadow: 0 4px 10px rgba(211, 47, 47, 0.4);
        }
        
        #submitBtn:hover {
            background-color: #C62828;
        }

        /* ********************************************** */
        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: var(--mobile-breakpoint)) {
            
            .input-group {
                flex-direction: column;
                align-items: flex-start;
            }

            .personal-info-bg .input-group:last-of-type {
                margin-bottom: var(--input-margin-bottom); 
            }
            
            .input-group label {
                position: static;
                width: 100%; 
                font-size: 1.1em; 
                margin-bottom: 5px; 
                line-height: 1.2;
                transform: none; 
            }
            
            .input-field-wrapper {
                margin-left: 0;
                width: 100%;
            }

            .input-field-wrapper input[type="text"],
            .input-field-wrapper select,
            .car-number-box {
                height: auto;
            }
            
            #submitBtn {
                padding: 15px 20px;
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        
<form id="carForm" 
    action="https://docs.google.com/forms/d/e/1FAIpQLSeeLVvQCZycTDSjPAGt_6u5M2NkL20UaXFbSijRdAnKopPhyw/formResponse" 
    method="POST" 
    target="no-target">
            
            <div class="header-content">
                <h1>ë‚´ ì°¨ëŸ‰ì‹œì„¸ ì‹ ì²­</h1>
                
                <p class="description">
                    ì‚¬ì¥ë‹˜ì˜ ì°¨ëŸ‰ì •ë³´ë¥¼ ì…ë ¥í•˜ë©´, ì „ë¬¸ê°€ í‰ê°€ í›„ ì‹œì„¸ë¥¼ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.
                </p>
            </div>
            
            <div class="personal-info-bg">
                <div class="section-wrapper">
                    <div class="section-title">ê°œì¸ì •ë³´ ì…ë ¥</div>

                    <div class="input-group">
                        <label for="name">ì„±í•¨</label>
                        <div class="input-field-wrapper">
                            <input type="text" id="name" name="entry.1557973861" required placeholder="ì˜ˆì‹œ : í™ê¸¸ë™">
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="phone">íœ´ëŒ€í° ë²ˆí˜¸</label>
                        <div class="input-field-wrapper">
                            <input type="text" id="phone" name="entry.607391743" required placeholder="ìˆ«ìë§Œ ê¸°ì…" inputmode="numeric">
                        </div>
                    </div>
                    
                </div>
            </div>
            
            <div class="car-info-bg">
                <div class="section-wrapper">
                    <div class="section-title">ì°¨ëŸ‰ì •ë³´ ì…ë ¥</div>
                    
                    <div class="input-group" id="carNumberGroup">
                        <label for="carNumber">ì°¨ëŸ‰ë²ˆí˜¸</label>
                        <div class="input-field-wrapper">
                            <div class="car-number-box">
                                <span class="city-unit">ì„œìš¸</span>
                                <input type="text" 
                                    id="carNumber" 
                                    name="entry.367681253" 
                                    required 
                                    placeholder="ì˜ˆì‹œ : 30ì•„1234" 
                                    maxlength="7">
                            </div>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="manufacturerSelect">ì œì¡°ì‚¬</label>
                        <div class="input-field-wrapper">
                            <select id="manufacturerSelect" required>
                                <option value="" disabled selected>ì œì¡°ì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                                <option value="í˜„ëŒ€">í˜„ëŒ€</option>
                                <option value="ê¸°ì•„">ê¸°ì•„</option>
                                <option value="KGM(ìŒìš©)">KGM(ìŒìš©)</option>
                                <option value="ì‚¼ì„±(ë¥´ë…¸)">ì‚¼ì„±(ë¥´ë…¸)</option>
                                <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                            </select>
                            <input type="hidden" id="manufacturerInput" name="entry.864028041" value=""> 
                        </div>
                    </div>
                    
                    <div class="input-group" id="carModelGroup"> 
                        <label for="carModelSelect">ì°¨ì¢…</label>
                        <div class="input-field-wrapper">
                            <select id="carModelSelect" required disabled>
                                 <option value="" disabled selected>ì°¨ì¢…ì„ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                             </select>
                            <input type="hidden" id="carModelInputHidden" name="entry.1656635069" value=""> 
                            <input type="text" 
                                 id="carModelInputDirect" 
                                 placeholder="ì°¨ì¢…ì„ ì§ì ‘ ì…ë ¥í•´ì£¼ì„¸ìš”" 
                                 style="display: none;">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="optionSelect">ì˜µì…˜ì—¬ë¶€</label>
                        <div class="input-field-wrapper">
                            <select id="optionSelect" name="entry.895436831" required>
                                <option value="" disabled selected>ì˜µì…˜ ì—¬ë¶€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                                <option value="ìˆìŒ">ìˆìŒ</option>
                                <option value="ì—†ìŒ">ì—†ìŒ</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="input-group"> 
                        <label>ì¶œê³ ì‹œê¸°</label>
                        <div class="input-field-wrapper">
                            <select id="yearSelect" class="year-select" name="entry.1759157550" required>
                                <option value="" disabled selected>ì¶œê³  ì—°ë„</option>
                                </select>
                            <select id="monthSelect" class="month-select" name="entry.1723102063" required>
                                <option value="" disabled selected>ì¶œê³  ì›”</option>
                                </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="footer-content">
                <div class="consent-group">
                    <input type="checkbox" id="consent" required>
                    <label for="consent" class="consent-label">ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤.</label>
                    <input type="hidden" id="consentHidden" name="entry.2024924107" value="" required>
                </div>
                
                <div class="consent-details">
                    <p><strong>[ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜ ìƒì„¸ ë‚´ìš©]</strong></p>
                    <p>1. ìˆ˜ì§‘ í•­ëª©: ì„±í•¨, íœ´ëŒ€í° ë²ˆí˜¸, ì°¨ëŸ‰ë²ˆí˜¸, **ì°¨ëŸ‰ì œì¡°ì‚¬, ì°¨ëŸ‰ì¢…ë¥˜, ì˜µì…˜ì—¬ë¶€, ì°¨ëŸ‰ì¶œê³ (ì—°/ì›”)**</p>
                    <p>2. ìˆ˜ì§‘ ëª©ì : **ì°¨ëŸ‰ ì‹œì„¸ í™•ì¸ ë° íŒë§¤/ë§¤ì… ìƒë‹´ ì§„í–‰**</p>
                    <p>3. ë³´ìœ  ë° ì´ìš© ê¸°ê°„: ë™ì˜ì¼ë¡œë¶€í„° 3ë…„ (ìƒë‹´ ì¢…ë£Œ í›„ ì§€ì²´ ì—†ì´ íŒŒê¸°)</p>
                    <p>4. ë™ì˜ ê±°ë¶€ ì‹œ ë¶ˆì´ìµ: ìƒê¸° ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•˜ì§€ ì•Šì„ ê²½ìš°, ì‹œì„¸ ì‹ ì²­ ë° ìƒë‹´ì´ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>

                <button type="submit" id="submitBtn">ë‚´ ì°¨ëŸ‰ì‹œì„¸ ì‹ ì²­í•˜ê¸°</button>
            </div>
        </form>
    </div>

    <iframe name="no-target" style="display:none;"></iframe>

    <script>
        // -----------------------------------------------------------
        // 1. ì´ˆê¸° ë¡œë“œ ì‹œ ì—°/ì›” ë“œë¡­ë‹¤ìš´ ì±„ìš°ê¸° 
        // -----------------------------------------------------------
        const yearSelect = document.getElementById('yearSelect');
        const monthSelect = document.getElementById('monthSelect');
        const startYear = 2025;
        const endYear = 2015;

        for (let year = startYear; year >= endYear; year--) {
            const option = document.createElement('option');
            option.value = year + 'ë…„'; // Google Formsì˜ Option ê°’ì— ë§ê²Œ 'ë…„' ì¶”ê°€
            option.textContent = year + 'ë…„';
            yearSelect.appendChild(option);
        }

        for (let month = 1; month <= 12; month++) {
            const monthText = month + 'ì›”'; // Google Formsì˜ Option ê°’ì— ë§ê²Œ 'ì›”' ì¶”ê°€ (01ì›” í˜•ì‹ì€ Google Formì—ì„œ ì§ì ‘ ì„¤ì •í•˜ì§€ ì•ŠëŠ” í•œ ë¶ˆí•„ìš”)
            const option = document.createElement('option');
            option.value = monthText;
            option.textContent = month + 'ì›”';
            monthSelect.appendChild(option);
        }

        // -----------------------------------------------------------
        // 2. ì œì¡°ì‚¬ ì„ íƒì— ë”°ë¥¸ ì°¨ì¢… ë“œë¡­ë‹¤ìš´ ë™ì  ì—…ë°ì´íŠ¸ ë° ì§ì ‘ ì…ë ¥ ì²˜ë¦¬
        // -----------------------------------------------------------
        const manufacturerSelect = document.getElementById('manufacturerSelect'); 
        const manufacturerInput = document.getElementById('manufacturerInput'); 
        const carModelSelect = document.getElementById('carModelSelect');
        const carModelInputHidden = document.getElementById('carModelInputHidden');
        const carModelInputDirect = document.getElementById('carModelInputDirect');
        
        const carModels = {
            'í˜„ëŒ€': ['ê·¸ëœì €', 'ì˜ë‚˜íƒ€', 'ìŠ¤íƒ€ë¦¬ì•„', 'G90', 'G80', 'ì•„ì´ì˜¤ë‹‰5', 'ì•„ì´ì˜¤ë‹‰6'],
            'ê¸°ì•„': ['K8', 'K7', 'K5', 'ìŠ¤í¬í‹°ì§€', 'ì¹´ë‹ˆë°œ', 'K9', 'ë‹ˆë¡œì „ê¸°ì°¨', 'EV6', 'EV4', 'EV3'],
            'KGM(ìŒìš©)': ['í† ë ˆìŠ¤ ì „ê¸°ì°¨', 'í† ë ˆìŠ¤ ë°”ì´í“¨ì—˜', 'í† ë ˆìŠ¤ LPG'],
            'ì‚¼ì„±(ë¥´ë…¸)': ['SM6', 'QM6'],
            'ê¸°íƒ€': [] 
        };

        function updateCarModel(manufacturer) {
            // ì°¨ì¢… í•„ë“œ ì´ˆê¸°í™”
            carModelSelect.innerHTML = '';
            carModelSelect.disabled = true;
            carModelSelect.style.display = 'block'; 
            carModelInputDirect.style.display = 'none';
            carModelInputHidden.value = ''; 
            carModelSelect.required = false;
            
            let defaultOption = document.createElement('option');
            defaultOption.value = '';
            defaultOption.textContent = (manufacturer === 'ê¸°íƒ€') ? 'ì§ì ‘ ì…ë ¥ ëŒ€ê¸°...' : 'ì°¨ì¢…ì„ ì„ íƒí•´ì£¼ì„¸ìš”';
            defaultOption.disabled = true;
            defaultOption.selected = true;
            carModelSelect.appendChild(defaultOption);

            if (manufacturer === 'ê¸°íƒ€') {
                // 'ê¸°íƒ€' ì„ íƒ ì‹œ, í…ìŠ¤íŠ¸ ì…ë ¥ í•„ë“œ í‘œì‹œ
                carModelSelect.style.display = 'none';
                carModelInputDirect.style.display = 'block';
                carModelInputDirect.required = true;
                carModelInputHidden.required = true;
                
                // ì§ì ‘ ì…ë ¥ í•„ë“œì˜ ê°’ì´ ë³€ê²½ë  ë•Œ hidden í•„ë“œì— ë³µì‚¬
                carModelInputDirect.oninput = function() {
                    carModelInputHidden.value = carModelInputDirect.value;
                };

            } else if (carModels[manufacturer]) {
                // ì œì¡°ì‚¬ì— ë”°ë¥¸ ì°¨ì¢… ë“œë¡­ë‹¤ìš´ ì±„ìš°ê¸°
                carModelSelect.style.display = 'block';
                carModelInputDirect.style.display = 'none';
                carModelSelect.disabled = false;
                carModelSelect.required = true;
                carModelInputDirect.required = false; // ì§ì ‘ ì…ë ¥ í•„ë“œì˜ í•„ìˆ˜ í•´ì œ
                
                carModels[manufacturer].forEach(model => {
                    const option = document.createElement('option');
                    option.value = model;
                    option.textContent = model;
                    carModelSelect.appendChild(option);
                });
                
            }
        }
        
        // ì œì¡°ì‚¬ ë“œë¡­ë‹¤ìš´ ë³€ê²½ ì´ë²¤íŠ¸
        manufacturerSelect.addEventListener('change', function() {
            const selectedManufacturer = this.value;
            // 1. ì œì¡°ì‚¬ ì„ íƒê°’ì„ ìˆ¨ê²¨ì§„ inputì— ë³µì‚¬ (Google Form ì œì¶œìš©)
            manufacturerInput.value = selectedManufacturer;
            
            // 2. ì°¨ì¢… ë“œë¡­ë‹¤ìš´ ì—…ë°ì´íŠ¸
            updateCarModel(selectedManufacturer);
        });
        
        // ì°¨ì¢… ë“œë¡­ë‹¤ìš´ ë³€ê²½ ì´ë²¤íŠ¸
        carModelSelect.addEventListener('change', function() {
             // ì„ íƒëœ ì°¨ì¢…ì„ ìˆ¨ê²¨ì§„ inputì— ë³µì‚¬ (Google Form ì œì¶œìš©)
            carModelInputHidden.value = this.value;
        });

        // -----------------------------------------------------------
        // 3. ê°œì¸ì •ë³´ ë™ì˜ í•„ë“œ ì—…ë°ì´íŠ¸ (ì²´í¬ë°•ìŠ¤ ê°’ -> í…ìŠ¤íŠ¸ 'ë™ì˜')
        // -----------------------------------------------------------
        const consentCheckbox = document.getElementById('consent');
        const consentHidden = document.getElementById('consentHidden');

        consentCheckbox.addEventListener('change', function() {
            if (this.checked) {
                // Google Forms ì˜µì…˜ì— ë§ê²Œ 'ì˜ˆ' ëŒ€ì‹  'ë™ì˜'ë¡œ ì„¤ì • (ì‚¬ì¥ë‹˜ê»˜ì„œ ì´ì „ ë‹¨ê³„ì—ì„œ 'ì˜ˆ' ëŒ€ì‹  'ë™ì˜'ë¥¼ ì‚¬ìš©í•˜ì…¨ë‹¤ë©´ 'ë™ì˜'ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì•ˆì „í•©ë‹ˆë‹¤.)
                consentHidden.value = 'ë™ì˜'; 
            } else {
                // ì²´í¬ í•´ì œë˜ë©´ ê°’ì„ ë¹„ì›€
                consentHidden.value = '';
            }
        });
        
        // -----------------------------------------------------------
        // 4. í¼ ì œì¶œ ë° ì „í™”ë²ˆí˜¸ í˜•ì‹ ì§€ì • JS
        // -----------------------------------------------------------
        document.getElementById('carForm').addEventListener('submit', function(event) {
            const selectedManu = manufacturerSelect.value;
            
            // "ê¸°íƒ€"ë¥¼ ì„ íƒí–ˆìœ¼ë‚˜ ì°¨ì¢… ì§ì ‘ ì…ë ¥ì´ ë¹„ì–´ìˆëŠ” ê²½ìš° ì²´í¬
            if (selectedManu === 'ê¸°íƒ€' && carModelInputDirect.value.trim() === '') {
                 alert('ì°¨ì¢…ì„ ì§ì ‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                 event.preventDefault();
                 carModelInputDirect.focus();
                 return;
            }
            
            // ê°œì¸ì •ë³´ ë™ì˜ ì²´í¬ ì—¬ë¶€ í™•ì¸
            if (!consentCheckbox.checked) {
                 alert('ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•´ì•¼ ì‹œì„¸ ì‹ ì²­ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
                 event.preventDefault();
                 return;
            }
            
            // í¼ ì œì¶œì€ iframeìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ ì‹¤ì œ í˜ì´ì§€ ì´ë™ì€ ì—†ìŒ
            alert('ë‚´ ì°¨ëŸ‰ì‹œì„¸ ì‹ ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì „ë¬¸ê°€ í‰ê°€ í›„ ì‹œì„¸ë¥¼ ì•ˆë‚´í•´ ë“œë¦´ê²Œìš”!');
            setTimeout(() => {
                this.reset(); 
                updateCarModel(''); // ì°¨ì¢… ë“œë¡­ë‹¤ìš´ ì´ˆê¸°í™”
                manufacturerInput.value = ''; // ì œì¡°ì‚¬ hidden í•„ë“œ ì´ˆê¸°í™”
                consentHidden.value = ''; // ë™ì˜ hidden í•„ë“œ ì´ˆê¸°í™”
                carModelInputDirect.value = ''; // ì§ì ‘ ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
                
                // ë“œë¡­ë‹¤ìš´ ê¸°ë³¸ê°’ìœ¼ë¡œ ë³µì›
                document.getElementById('manufacturerSelect').selectedIndex = 0;
                document.getElementById('optionSelect').selectedIndex = 0;
                document.getElementById('yearSelect').selectedIndex = 0;
                document.getElementById('monthSelect').selectedIndex = 0;

                // ì²´í¬ë°•ìŠ¤ í•´ì œ (this.reset()ìœ¼ë¡œ ì´ë¯¸ ì²˜ë¦¬ë˜ì§€ë§Œ ì•ˆì „ì„ ìœ„í•´ ëª…ì‹œ)
                consentCheckbox.checked = false; 

            }, 100); 
        });

        const phoneInput = document.getElementById('phone');
        phoneInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/[^0-9]/g, ''); 
            let result = '';
            if (value.length < 4) {
                result = value;
            } else if (value.length < 8) {
                result = value.slice(0, 3) + '-' + value.slice(3);
            } else if (value.length < 11) {
                result = value.slice(0, 3) + '-' + value.slice(3, 7) + '-' + value.slice(7);
            } else {
                result = value.slice(0, 3) + '-' + value.slice(3, 7) + '-' + value.slice(7, 11);
            }
            e.target.value = result;
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì°¨ì¢… ì´ˆê¸°í™”
        updateCarModel('');

    </script>
</body>
</html>

